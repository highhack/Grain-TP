{"ast":null,"code":"const ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST = 'UPDATE-NEW-POST';\nlet initialState = {\n  posts: [{\n    message: 'Hi, how are you?',\n    id: 1,\n    likecount: \"15\"\n  }, {\n    message: \"It's my first post\",\n    id: 2,\n    likecount: \"16\"\n  }, {\n    message: \"blablabla\",\n    id: 3,\n    likecount: \"11\"\n  }],\n  newPostText: 'it-kamasutra'\n};\n\nconst profilReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      const newPost = {\n        id: 4,\n        message: state.newPostText,\n        likecount: '0'\n      };\n      let stateCopy = { ...state\n      };\n      stateCopy.posts = { ...state.posts\n      };\n      state.posts.push(newPost);\n      state.newPostText = ''; // дает  пустую строку\n\n      return state;\n\n    case UPDATE_NEW_POST:\n      state.newPostText = action.text;\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = () => ({\n  type: ADD_POST\n});\nexport const updateNewPostTextActionCreator = text => ({\n  type: UPDATE_NEW_POST,\n  text\n});\nexport default profilReducer;","map":{"version":3,"sources":["/home/gerich/Documents/it-kamasutra/TP-way-of-samuray/tp-samuray/src/Redux/profilReducer.ts"],"names":["ADD_POST","UPDATE_NEW_POST","initialState","posts","message","id","likecount","newPostText","profilReducer","state","action","type","newPost","stateCopy","push","text","addPostActionCreator","updateNewPostTextActionCreator"],"mappings":"AAEA,MAAMA,QAAQ,GAAG,UAAjB;AACA,MAAMC,eAAe,GAAG,iBAAxB;AAOA,IAAIC,YAAkC,GAAG;AACjCC,EAAAA,KAAK,EAAE,CACH;AAACC,IAAAA,OAAO,EAAE,kBAAV;AAA8BC,IAAAA,EAAE,EAAE,CAAlC;AAAqCC,IAAAA,SAAS,EAAE;AAAhD,GADG,EAEH;AAACF,IAAAA,OAAO,EAAE,oBAAV;AAAgCC,IAAAA,EAAE,EAAE,CAApC;AAAuCC,IAAAA,SAAS,EAAE;AAAlD,GAFG,EAGH;AAACF,IAAAA,OAAO,EAAE,WAAV;AAAuBC,IAAAA,EAAE,EAAE,CAA3B;AAA8BC,IAAAA,SAAS,EAAE;AAAzC,GAHG,CAD0B;AAMjCC,EAAAA,WAAW,EAAE;AANoB,CAAzC;;AAUA,MAAMC,aAAa,GAAG,CAACC,KAA2B,GAAGP,YAA/B,EAA6CQ,MAA7C,KAA2F;AAC7G,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKX,QAAL;AACI,YAAMY,OAAiB,GAAG;AACtBP,QAAAA,EAAE,EAAE,CADkB;AAEtBD,QAAAA,OAAO,EAAEK,KAAK,CAACF,WAFO;AAGtBD,QAAAA,SAAS,EAAE;AAHW,OAA1B;AAKA,UAAIO,SAAS,GAAG,EAAC,GAAGJ;AAAJ,OAAhB;AACAI,MAAAA,SAAS,CAACV,KAAV,GAAkB,EAAC,GAAGM,KAAK,CAACN;AAAV,OAAlB;AACAM,MAAAA,KAAK,CAACN,KAAN,CAAYW,IAAZ,CAAiBF,OAAjB;AACAH,MAAAA,KAAK,CAACF,WAAN,GAAoB,EAApB,CATJ,CAS+G;;AAC3G,aAAOE,KAAP;;AACJ,SAAKR,eAAL;AACIQ,MAAAA,KAAK,CAACF,WAAN,GAAoBG,MAAM,CAACK,IAA3B;AACA,aAAON,KAAP;;AACJ;AACI,aAAOA,KAAP;AAhBR;AAkBH,CAnBD;;AAqBA,OAAO,MAAMO,oBAAoB,GAAG,OAAO;AAACL,EAAAA,IAAI,EAAEX;AAAP,CAAP,CAA7B;AACP,OAAO,MAAMiB,8BAA8B,GAAIF,IAAD,KACzC;AAACJ,EAAAA,IAAI,EAAEV,eAAP;AAAwBc,EAAAA;AAAxB,CADyC,CAAvC;AAMP,eAAeP,aAAf","sourcesContent":["import { PostType} from \"./redux-store\";\n\nconst ADD_POST = 'ADD-POST'\nconst UPDATE_NEW_POST = 'UPDATE-NEW-POST'\n\nexport type InitialStatePostType = {\n    posts: Array<PostType>\n    newPostText: string\n\n}\nlet initialState: InitialStatePostType = {\n        posts: [\n            {message: 'Hi, how are you?', id: 1, likecount: \"15\"},\n            {message: \"It's my first post\", id: 2, likecount: \"16\"},\n            {message: \"blablabla\", id: 3, likecount: \"11\"}\n        ],\n        newPostText: 'it-kamasutra'\n\n}\n\nconst profilReducer = (state: InitialStatePostType = initialState, action: ActionsType): InitialStatePostType => {\n    switch (action.type) {\n        case ADD_POST:\n            const newPost: PostType = {\n                id: 4,\n                message: state.newPostText,\n                likecount: '0'\n            };\n            let stateCopy = {...state}\n            stateCopy.posts = {...state.posts}\n            state.posts.push(newPost)\n            state.newPostText = ''                                                                                     // дает  пустую строку\n            return state\n        case UPDATE_NEW_POST:\n            state.newPostText = action.text\n            return state\n        default:\n            return state\n    }\n}\n\nexport const addPostActionCreator = () => ({type: ADD_POST} as const )\nexport const updateNewPostTextActionCreator = (text: string) =>\n    ({type: UPDATE_NEW_POST, text} as const)\ntype ActionsType =\n    | ReturnType<typeof addPostActionCreator>\n    | ReturnType<typeof updateNewPostTextActionCreator>\n\nexport default profilReducer"]},"metadata":{},"sourceType":"module"}